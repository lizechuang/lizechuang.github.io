<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="iOS开发,Objective-C," />










<meta name="description" content="KVC详解前言 KVC（Key-value coding）键值编码，就是指iOS的开发中，可以允许开发者通过Key名直接访问对象的属性，或者给对象的属性赋值。而不需要调用明确的存取方法。这样就可以在运行时动态地访问和修改对象的属性。而不是在编译时确定，这也是iOS开发中的黑魔法之一。很多高级的iOS开发技巧都是基于KVC实现的。 在实现了访问器方法的类中，使用点语法和KVC访问对象其实差别不大，二">
<meta name="keywords" content="iOS开发,Objective-C">
<meta property="og:type" content="article">
<meta property="og:title" content="KVC详解">
<meta property="og:url" content="http://lizechuang.github.io/2019/01/20/KVC详解/index.html">
<meta property="og:site_name" content="李先生的随笔">
<meta property="og:description" content="KVC详解前言 KVC（Key-value coding）键值编码，就是指iOS的开发中，可以允许开发者通过Key名直接访问对象的属性，或者给对象的属性赋值。而不需要调用明确的存取方法。这样就可以在运行时动态地访问和修改对象的属性。而不是在编译时确定，这也是iOS开发中的黑魔法之一。很多高级的iOS开发技巧都是基于KVC实现的。 在实现了访问器方法的类中，使用点语法和KVC访问对象其实差别不大，二">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2019-02-18T12:55:11.039Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="KVC详解">
<meta name="twitter:description" content="KVC详解前言 KVC（Key-value coding）键值编码，就是指iOS的开发中，可以允许开发者通过Key名直接访问对象的属性，或者给对象的属性赋值。而不需要调用明确的存取方法。这样就可以在运行时动态地访问和修改对象的属性。而不是在编译时确定，这也是iOS开发中的黑魔法之一。很多高级的iOS开发技巧都是基于KVC实现的。 在实现了访问器方法的类中，使用点语法和KVC访问对象其实差别不大，二">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://lizechuang.github.io/2019/01/20/KVC详解/"/>





  <title>KVC详解 | 李先生的随笔</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">李先生的随笔</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">如人饮水，冷暖自知</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://lizechuang.github.io/2019/01/20/KVC详解/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="李先生的随笔">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">KVC详解</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-01-20T17:00:00+08:00">
                2019-01-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/开发/" itemprop="url" rel="index">
                    <span itemprop="name">开发</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="KVC详解"><a href="#KVC详解" class="headerlink" title="KVC详解"></a>KVC详解</h1><p>前言</p>
<p>KVC（Key-value coding）键值编码，就是指iOS的开发中，可以允许开发者通过Key名直接访问对象的属性，或者给对象的属性赋值。而不需要调用明确的存取方法。这样就可以在运行时动态地访问和修改对象的属性。而不是在编译时确定，这也是iOS开发中的黑魔法之一。很多高级的iOS开发技巧都是基于KVC实现的。</p>
<p>在实现了访问器方法的类中，使用点语法和KVC访问对象其实差别不大，二者可以任意混用。但是没有访问起方法的类中，点语法无法使用，这时KVC就有优势了</p>
<a id="more"></a>
<h2 id="KVC设值"><a href="#KVC设值" class="headerlink" title="KVC设值"></a>KVC设值</h2><p>KVC要设值，那么就要对象中对应的key，KVC在内部是按什么样的顺序来寻找key的。当调用setValue：属性值 forKey：@”name“的代码时，底层的执行机制如下：</p>
<ul>
<li>程序优先调用set<key>:属性值方法，代码通过setter方法完成设置。注意，这里的<key>是指成员变量名，首字母大小写要符合KVC的命名规则，下同</key></key></li>
<li>如果没有找到setName：方法，KVC机制会检查+ (BOOL)accessInstanceVariablesDirectly方法有没有返回YES，默认该方法会返回YES，如果你重写了该方法让其返回NO的话，那么在这一步KVC会执行setValue：forUndefinedKey：方法，不过一般开发者不会这么做。所以KVC机制会搜索该类里面有没有名为<key>的成员变量，无论该变量是在类接口处定义，还是在类实现处定义，也无论用了什么样的访问修饰符，只在存在以<key>命名的变量，KVC都可以对该成员变量赋值。</key></key></li>
<li>如果该类即没有set<key>：方法，也没有_<key>成员变量，KVC机制会搜索_is<key>的成员变量。</key></key></key></li>
<li>和上面一样，如果该类即没有set<key>：方法，也没有_<key>和_is<key>成员变量，KVC机制再会继续搜索<key>和is<key>的成员变量。再给它们赋值。</key></key></key></key></key></li>
<li>如果上面列出的方法或者成员变量都不存在，系统将会执行该对象的setValue：forUndefinedKey：方法，默认是抛出异常。</li>
</ul>
<p>简单来说就是如果没有找到Set<key>方法的话，会按照_key，_iskey，key，iskey的顺序搜索成员并进行赋值操作。</key></p>
<p>如果开发者想让这个类禁用KVC里，那么重写+ (BOOL)accessInstanceVariablesDirectly方法让其返回NO即可，这样的话如果KVC没有找到set<key>:属性名时，会直接用setValue：forUndefinedKey：方法。</key></p>
<p>accessInstanceVariablesDirectly为NO的时候KVC只会查询setter和getter这一层，下面寻找key的相关变量执行就会停止，直接报错。</p>
<h2 id="KVC取值"><a href="#KVC取值" class="headerlink" title="KVC取值"></a>KVC取值</h2><p>当调用valueForKey：@”name“的代码时，KVC对key的搜索方式不同于setValue：属性值 forKey：@”name“，其搜索方式如下：</p>
<ul>
<li>首先按get<key>,<key>,is<key>的顺序方法查找getter方法，找到的话会直接调用。如果是BOOL或者Int等值类型， 会将其包装成一个NSNumber对象。</key></key></key></li>
<li>如果上面的getter没有找到，KVC则会查找countOf<key>,objectIn<key>AtIndex或<key>AtIndexes格式的方法。如果countOf<key>方法和另外两个方法中的一个被找到，那么就会返回一个可以响应NSArray所有方法的代理集合(它是NSKeyValueArray，是NSArray的子类)，调用这个代理集合的方法，或者说给这个代理集合发送属于NSArray的方法，就会以countOf<key>,objectIn<key>AtIndex或<key>AtIndexes这几个方法组合的形式调用。还有一个可选的get<key>:range:方法。所以你想重新定义KVC的一些功能，你可以添加这些方法，需要注意的是你的方法名要符合KVC的标准命名方法，包括方法签名。</key></key></key></key></key></key></key></key></li>
<li>如果上面的方法没有找到，那么会同时查找countOf<key>，enumeratorOf<key>,memberOf<key>格式的方法。如果这三个方法都找到，那么就返回一个可以响应NSSet所的方法的代理集合，和上面一样，给这个代理集合发NSSet的消息，就会以countOf<key>，enumeratorOf<key>,memberOf<key>组合的形式调用。</key></key></key></key></key></key></li>
<li>如果还没有找到，再检查类方法+ (BOOL)accessInstanceVariablesDirectly,如果返回YES(默认行为)，那么和先前的设值一样，会按_<key>,_is<key>,<key>,is<key>的顺序搜索成员变量名，这里不推荐这么做，因为这样直接访问实例变量破坏了封装性，使代码更脆弱。如果重写了类方法+ (BOOL)accessInstanceVariablesDirectly返回NO的话，那么会直接调用valueForUndefinedKey:方法，默认是抛出异常。</key></key></key></key></li>
</ul>
<h2 id="KVC使用keyPath"><a href="#KVC使用keyPath" class="headerlink" title="KVC使用keyPath"></a>KVC使用keyPath</h2><p>在开发过程中，一个类的成员变量有可能是自定义类或其他的复杂数据类型，你可以先用KVC获取该属性，然后再次用KVC来获取这个自定义类的属性，<br>但这样是比较繁琐的，对此，KVC提供了一个解决方案，那就是键路径keyPath。顾名思义，就是按照路径寻找key。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- (nullable id)valueForKeyPath:(NSString *)keyPath;                  //通过KeyPath来取值</span><br><span class="line">- (void)setValue:(nullable id)value forKeyPath:(NSString *)keyPath;  //通过KeyPath来设值</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">//Test生成对象</span><br><span class="line">     Test *test = [[Test alloc] init];</span><br><span class="line">     //Test1生成对象</span><br><span class="line">     Test1 *test1 = [[Test1 alloc] init];</span><br><span class="line">     //通过KVC设值test的&quot;test1&quot;</span><br><span class="line">     [test setValue:test1 forKey:@&quot;test1&quot;];</span><br><span class="line">     //通过KVC设值test的&quot;test1的name&quot;</span><br><span class="line">     [test setValue:@&quot;xiaoming&quot; forKeyPath:@&quot;test1.name&quot;];</span><br><span class="line">     //通过KVC取值age打印</span><br><span class="line">     NSLog(@&quot;test的\&quot;test1的name\&quot;是%@&quot;, [test valueForKeyPath:@&quot;test1.name&quot;]);</span><br></pre></td></tr></table></figure>
<p>KVC对于keyPath是搜索机制第一步就是分离key，用小数点.来分割key，然后再像普通key一样按照先前介绍的顺序搜索下去。</p>
<h2 id="KVC处理异常"><a href="#KVC处理异常" class="headerlink" title="KVC处理异常"></a>KVC处理异常</h2><p>KVC中最常见的异常就是不小心使用了错误的key，或者在设值中不小心传递了nil的值，KVC中有专门的方法来处理这些异常。</p>
<p>KVC处理nil异常</p>
<p>通常情况下，KVC不允许你要在调用setValue：属性值 forKey：(或者keyPath)时对非对象传递一个nil的值。很简单，因为值类型是不能为nil的。如果你不小心传了，KVC会调用setNilValueForKey:方法。这个方法默认是抛出异常，所以一般而言最好还是重写这个方法。</p>
<p>KVC处理UndefinedKey异常</p>
<p>通常情况下，KVC不允许你要在调用setValue：属性值 forKey：(或者keyPath)时对不存在的key进行操作。<br>不然，会报错forUndefinedKey发生崩溃，重写forUndefinedKey方法避免崩溃。</p>
<h2 id="KVC处理数值和结构体类型属性"><a href="#KVC处理数值和结构体类型属性" class="headerlink" title="KVC处理数值和结构体类型属性"></a>KVC处理数值和结构体类型属性</h2><p>不是每一个方法都返回对象，但是valueForKey：总是返回一个id对象，如果原本的变量类型是值类型或者结构体，返回值会封装成NSNumber或者NSValue对象。</p>
<p>这两个类会处理从数字，布尔值到指针和结构体任何类型。然后开以者需要手动转换成原来的类型。</p>
<p>尽管valueForKey：会自动将值类型封装成对象，但是setValue：forKey：却不行。你必须手动将值类型转换成NSNumber或者NSValue类型，才能传递过去。</p>
<p>因为传递进去和取出来的都是id类型，所以需要开发者自己担保类型的正确性，运行时Objective-C在发送消息的会检查类型，如果错误会直接抛出异常.</p>
<p>ps：需要注意的是我们不能直接将一个数值通过KVC赋值的，我们需要把数据转为NSNumber和NSValue类型传入。</p>
<h2 id="KVC键值验证（Key-Value-Validation）"><a href="#KVC键值验证（Key-Value-Validation）" class="headerlink" title="KVC键值验证（Key-Value Validation）"></a>KVC键值验证（Key-Value Validation）</h2><p>KVC提供了验证Key对应的Value是否可用的方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- (BOOL)validateValue:(inoutid*)ioValue forKey:(NSString*)inKey error:(outNSError**)outError;</span><br></pre></td></tr></table></figure>
<p>该方法默认的实现是调用一个如下格式的方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- (BOOL)validate&lt;Key&gt;:error:</span><br></pre></td></tr></table></figure>
<p>比如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">#import &lt;Foundation/Foundation.h&gt;</span><br><span class="line"></span><br><span class="line">@interface Test: NSObject &#123;</span><br><span class="line">    NSUInteger _age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@end</span><br><span class="line"></span><br><span class="line">@implementation Test</span><br><span class="line"></span><br><span class="line">- (BOOL)validateValue:(inout id  _Nullable __autoreleasing *)ioValue forKey:(NSString *)inKey error:(out NSError * _Nullable __autoreleasing *)outError &#123;</span><br><span class="line">    NSNumber *age = *ioValue;</span><br><span class="line">    if (age.integerValue == 10) &#123;</span><br><span class="line">        return NO;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    return YES;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@end</span><br><span class="line"></span><br><span class="line">int main(int argc, const char * argv[]) &#123;</span><br><span class="line">    @autoreleasepool &#123;</span><br><span class="line">        // insert code here...</span><br><span class="line">        </span><br><span class="line">        //Test生成对象</span><br><span class="line">        Test *test = [[Test alloc] init];</span><br><span class="line">        //通过KVC设值test的age</span><br><span class="line">        NSNumber *age = @10;</span><br><span class="line">        NSError* error;</span><br><span class="line">        NSString *key = @&quot;age&quot;;</span><br><span class="line">        BOOL isValid = [test validateValue:&amp;age forKey:key error:&amp;error];</span><br><span class="line">        if (isValid) &#123;</span><br><span class="line">            NSLog(@&quot;键值匹配&quot;);</span><br><span class="line">            [test setValue:age forKey:key];</span><br><span class="line">        &#125;</span><br><span class="line">        else &#123;</span><br><span class="line">            NSLog(@&quot;键值不匹配&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">        //通过KVC取值age打印</span><br><span class="line">        NSLog(@&quot;test的年龄是%@&quot;, [test valueForKey:@&quot;age&quot;]);</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这样就给了我们一次纠错的机会。需要指出的是，KVC是不会自动调用键值验证方法的，就是说我们如果想要键值验证则需要手动验证。但是有些技术，比如CoreData会自动调用。</p>
<h2 id="KVC处理集合"><a href="#KVC处理集合" class="headerlink" title="KVC处理集合"></a>KVC处理集合</h2><p>KVC同时还提供了很复杂的函数，主要有下面这些：</p>
<p>简单集合运算符</p>
<p>简单集合运算符共有@avg， @count ， @max ， @min ，@sum5种，都表示什么直接看下面例子就明白了， 目前还不支持自定义。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">#import &lt;Foundation/Foundation.h&gt;</span><br><span class="line"></span><br><span class="line">@interface Book : NSObject</span><br><span class="line">@property (nonatomic, copy)  NSString* name;</span><br><span class="line">@property (nonatomic, assign)  CGFloat price;</span><br><span class="line">@end</span><br><span class="line"></span><br><span class="line">@implementation Book</span><br><span class="line">@end</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">int main(int argc, const char * argv[]) &#123;</span><br><span class="line">    @autoreleasepool &#123;</span><br><span class="line">        </span><br><span class="line">        Book *book1 = [Book new];</span><br><span class="line">        book1.name = @&quot;The Great Gastby&quot;;</span><br><span class="line">        book1.price = 10;</span><br><span class="line">        Book *book2 = [Book new];</span><br><span class="line">        book2.name = @&quot;Time History&quot;;</span><br><span class="line">        book2.price = 20;</span><br><span class="line">        Book *book3 = [Book new];</span><br><span class="line">        book3.name = @&quot;Wrong Hole&quot;;</span><br><span class="line">        book3.price = 30;</span><br><span class="line">        </span><br><span class="line">        Book *book4 = [Book new];</span><br><span class="line">        book4.name = @&quot;Wrong Hole&quot;;</span><br><span class="line">        book4.price = 40;</span><br><span class="line">        </span><br><span class="line">        NSArray* arrBooks = @[book1,book2,book3,book4];</span><br><span class="line">        NSNumber* sum = [arrBooks valueForKeyPath:@&quot;@sum.price&quot;];</span><br><span class="line">        NSLog(@&quot;sum:%f&quot;,sum.floatValue);</span><br><span class="line">        NSNumber* avg = [arrBooks valueForKeyPath:@&quot;@avg.price&quot;];</span><br><span class="line">        NSLog(@&quot;avg:%f&quot;,avg.floatValue);</span><br><span class="line">        NSNumber* count = [arrBooks valueForKeyPath:@&quot;@count&quot;];</span><br><span class="line">        NSLog(@&quot;count:%f&quot;,count.floatValue);</span><br><span class="line">        NSNumber* min = [arrBooks valueForKeyPath:@&quot;@min.price&quot;];</span><br><span class="line">        NSLog(@&quot;min:%f&quot;,min.floatValue);</span><br><span class="line">        NSNumber* max = [arrBooks valueForKeyPath:@&quot;@max.price&quot;];</span><br><span class="line">        NSLog(@&quot;max:%f&quot;,max.floatValue);</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">打印结果：</span><br><span class="line">2018-05-05 17:04:50.674243+0800 KVCKVO[35785:6351239] sum:100.000000</span><br><span class="line">2018-05-05 17:04:50.675007+0800 KVCKVO[35785:6351239] avg:25.000000</span><br><span class="line">2018-05-05 17:04:50.675081+0800 KVCKVO[35785:6351239] count:4.000000</span><br><span class="line">2018-05-05 17:04:50.675146+0800 KVCKVO[35785:6351239] min:10.000000</span><br><span class="line">2018-05-05 17:04:50.675204+0800 KVCKVO[35785:6351239] max:40.000000</span><br></pre></td></tr></table></figure>
<h2 id="对象运算符"><a href="#对象运算符" class="headerlink" title="对象运算符"></a>对象运算符</h2><p>比集合运算符稍微复杂，能以数组的方式返回指定的内容，一共有两种:</p>
<ul>
<li>@distinctUnionOfObjects</li>
<li>@unionOfObjects</li>
</ul>
<p>它们的返回值都是NSArray，区别是前者返回的元素都是唯一的，是去重以后的结果；后者返回的元素是全集。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">#import &lt;Foundation/Foundation.h&gt;</span><br><span class="line"></span><br><span class="line">@interface Book : NSObject</span><br><span class="line">@property (nonatomic, copy)  NSString* name;</span><br><span class="line">@property (nonatomic, assign)  CGFloat price;</span><br><span class="line">@end</span><br><span class="line"></span><br><span class="line">@implementation Book</span><br><span class="line">@end</span><br><span class="line"></span><br><span class="line">int main(int argc, const char * argv[]) &#123;</span><br><span class="line">    @autoreleasepool &#123;</span><br><span class="line">        </span><br><span class="line">        Book *book1 = [Book new];</span><br><span class="line">        book1.name = @&quot;The Great Gastby&quot;;</span><br><span class="line">        book1.price = 40;</span><br><span class="line">        Book *book2 = [Book new];</span><br><span class="line">        book2.name = @&quot;Time History&quot;;</span><br><span class="line">        book2.price = 20;</span><br><span class="line">        Book *book3 = [Book new];</span><br><span class="line">        book3.name = @&quot;Wrong Hole&quot;;</span><br><span class="line">        book3.price = 30;</span><br><span class="line">        </span><br><span class="line">        Book *book4 = [Book new];</span><br><span class="line">        book4.name = @&quot;Wrong Hole&quot;;</span><br><span class="line">        book4.price = 10;</span><br><span class="line">        </span><br><span class="line">        NSArray* arrBooks = @[book1,book2,book3,book4];</span><br><span class="line">        </span><br><span class="line">        NSLog(@&quot;distinctUnionOfObjects&quot;);</span><br><span class="line">        NSArray* arrDistinct = [arrBooks valueForKeyPath:@&quot;@distinctUnionOfObjects.price&quot;];</span><br><span class="line">        for (NSNumber *price in arrDistinct) &#123;</span><br><span class="line">            NSLog(@&quot;%f&quot;,price.floatValue);</span><br><span class="line">        &#125;</span><br><span class="line">        NSLog(@&quot;unionOfObjects&quot;);</span><br><span class="line">        NSArray* arrUnion = [arrBooks valueForKeyPath:@&quot;@unionOfObjects.price&quot;];</span><br><span class="line">        for (NSNumber *price in arrUnion) &#123;</span><br><span class="line">            NSLog(@&quot;%f&quot;,price.floatValue);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">打印结果：</span><br><span class="line">2018-05-05 17:06:21.832401+0800 KVCKVO[35798:6358293] distinctUnionOfObjects</span><br><span class="line">2018-05-05 17:06:21.833079+0800 KVCKVO[35798:6358293] 10.000000</span><br><span class="line">2018-05-05 17:06:21.833112+0800 KVCKVO[35798:6358293] 20.000000</span><br><span class="line">2018-05-05 17:06:21.833130+0800 KVCKVO[35798:6358293] 30.000000</span><br><span class="line">2018-05-05 17:06:21.833146+0800 KVCKVO[35798:6358293] 40.000000</span><br><span class="line">2018-05-05 17:06:21.833165+0800 KVCKVO[35798:6358293] unionOfObjects</span><br><span class="line">2018-05-05 17:06:21.833297+0800 KVCKVO[35798:6358293] 40.000000</span><br><span class="line">2018-05-05 17:06:21.833347+0800 KVCKVO[35798:6358293] 20.000000</span><br><span class="line">2018-05-05 17:06:21.833371+0800 KVCKVO[35798:6358293] 30.000000</span><br><span class="line">2018-05-05 17:06:21.833388+0800 KVCKVO[35798:6358293] 10.000000</span><br></pre></td></tr></table></figure>
<h2 id="KVC处理字典"><a href="#KVC处理字典" class="headerlink" title="KVC处理字典"></a>KVC处理字典</h2><p>当对NSDictionary对象使用KVC时，valueForKey:的表现行为和objectForKey:一样。所以使用valueForKeyPath:用来访问多层嵌套的字典是比较方便的。</p>
<p>KVC里面还有两个关于NSDictionary的方法:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- (NSDictionary&lt;NSString *, id&gt; *)dictionaryWithValuesForKeys:(NSArray&lt;NSString *&gt; *)keys;</span><br><span class="line">- (void)setValuesForKeysWithDictionary:(NSDictionary&lt;NSString *, id&gt; *)keyedValues;</span><br></pre></td></tr></table></figure>
<p>dictionaryWithValuesForKeys:是指输入一组key，返回这组key对应的属性，再组成一个字典。<br>setValuesForKeysWithDictionary是用来修改Model中对应key的属性。下面直接用代码会更直观一点:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">#import &lt;Foundation/Foundation.h&gt;</span><br><span class="line"></span><br><span class="line">@interface Address : NSObject</span><br><span class="line"></span><br><span class="line">@end</span><br><span class="line"></span><br><span class="line">@interface Address()</span><br><span class="line"></span><br><span class="line">@property (nonatomic, copy)NSString* country;</span><br><span class="line">@property (nonatomic, copy)NSString* province;</span><br><span class="line">@property (nonatomic, copy)NSString* city;</span><br><span class="line">@property (nonatomic, copy)NSString* district;</span><br><span class="line"></span><br><span class="line">@end</span><br><span class="line"></span><br><span class="line">@implementation Address</span><br><span class="line"></span><br><span class="line">@end</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">int main(int argc, const char * argv[]) &#123;</span><br><span class="line">    @autoreleasepool &#123;</span><br><span class="line">        </span><br><span class="line">        //模型转字典</span><br><span class="line">        Address* add = [Address new];</span><br><span class="line">        add.country = @&quot;China&quot;;</span><br><span class="line">        add.province = @&quot;Guang Dong&quot;;</span><br><span class="line">        add.city = @&quot;Shen Zhen&quot;;</span><br><span class="line">        add.district = @&quot;Nan Shan&quot;;</span><br><span class="line">        NSArray* arr = @[@&quot;country&quot;,@&quot;province&quot;,@&quot;city&quot;,@&quot;district&quot;];</span><br><span class="line">        NSDictionary* dict = [add dictionaryWithValuesForKeys:arr]; //把对应key所有的属性全部取出来</span><br><span class="line">        NSLog(@&quot;%@&quot;,dict);</span><br><span class="line">        </span><br><span class="line">        //字典转模型</span><br><span class="line">        NSDictionary* modifyDict = @&#123;@&quot;country&quot;:@&quot;USA&quot;,@&quot;province&quot;:@&quot;california&quot;,@&quot;city&quot;:@&quot;Los angle&quot;&#125;;</span><br><span class="line">        [add setValuesForKeysWithDictionary:modifyDict];            //用key Value来修改Model的属性</span><br><span class="line">        NSLog(@&quot;country:%@  province:%@ city:%@&quot;,add.country,add.province,add.city);</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">打印结果：</span><br><span class="line">2018-05-05 17:08:48.824653+0800 KVCKVO[35807:6368235] &#123;</span><br><span class="line">city = &quot;Shen Zhen&quot;;</span><br><span class="line">country = China;</span><br><span class="line">district = &quot;Nan Shan&quot;;</span><br><span class="line">province = &quot;Guang Dong&quot;;</span><br><span class="line">&#125;</span><br><span class="line">2018-05-05 17:08:48.825075+0800 KVCKVO[35807:6368235] country:USA  province:california city:Los angle</span><br></pre></td></tr></table></figure>
<h2 id="KVC使用"><a href="#KVC使用" class="headerlink" title="KVC使用"></a>KVC使用</h2><p>KVC在iOS开发中是绝不可少的利器，这种基于运行时的编程方式极大地提高了灵活性，简化了代码，甚至实现很多难以想像的功能，KVC也是许多iOS开发黑魔法的基础。<br>下面列举iOS开发中KVC的使用场景.</p>
<h3 id="动态地取值和设值"><a href="#动态地取值和设值" class="headerlink" title="动态地取值和设值"></a>动态地取值和设值</h3><p>利用KVC动态的取值和设值是最基本的用途了。</p>
<h2 id="用KVC来访问和修改私有变量"><a href="#用KVC来访问和修改私有变量" class="headerlink" title="用KVC来访问和修改私有变量"></a>用KVC来访问和修改私有变量</h2><p>对于类里的私有属性，Objective-C是无法直接访问的，但是KVC是可以的。</p>
<h2 id="Model和字典转换"><a href="#Model和字典转换" class="headerlink" title="Model和字典转换"></a>Model和字典转换</h2><p>这是KVC强大作用的又一次体现，KVC和Objc的runtime组合可以很容易的实现Model和字典的转换。</p>
<p>##修改一些控件的内部属性</p>
<p>这也是iOS开发中必不可少的小技巧。众所周知很多UI控件都由很多内部UI控件组合而成的，但是Apple度没有提供这访问这些控件的API，这样我们就无法正常地访问和修改这些控件的样式。<br>而KVC在大多数情况可下可以解决这个问题。最常用的就是个性化UITextField中的placeHolderText了。</p>
<h2 id="操作集合"><a href="#操作集合" class="headerlink" title="操作集合"></a>操作集合</h2><p>Apple对KVC的valueForKey:方法作了一些特殊的实现，比如说NSArray和NSSet这样的容器类就实现了这些方法。所以可以用KVC很方便地操作集合。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">#import &lt;Foundation/Foundation.h&gt;</span><br><span class="line"></span><br><span class="line">int main(int argc, const char * argv[]) &#123;</span><br><span class="line">    @autoreleasepool &#123;</span><br><span class="line">        </span><br><span class="line">        NSArray* arrStr = @[@&quot;english&quot;,@&quot;franch&quot;,@&quot;chinese&quot;];</span><br><span class="line">        NSArray* arrCapStr = [arrStr valueForKey:@&quot;capitalizedString&quot;];</span><br><span class="line">        for (NSString* str  in arrCapStr) &#123;</span><br><span class="line">            NSLog(@&quot;%@&quot;,str);</span><br><span class="line">        &#125;</span><br><span class="line">        NSArray* arrCapStrLength = [arrStr valueForKeyPath:@&quot;capitalizedString.length&quot;];</span><br><span class="line">        for (NSNumber* length  in arrCapStrLength) &#123;</span><br><span class="line">            NSLog(@&quot;%ld&quot;,(long)length.integerValue);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">打印结果：</span><br><span class="line">2018-05-05 17:16:21.975983+0800 KVCKVO[35824:6395514] English</span><br><span class="line">2018-05-05 17:16:21.976296+0800 KVCKVO[35824:6395514] Franch</span><br><span class="line">2018-05-05 17:16:21.976312+0800 KVCKVO[35824:6395514] Chinese</span><br><span class="line">2018-05-05 17:16:21.976508+0800 KVCKVO[35824:6395514] 7</span><br><span class="line">2018-05-05 17:16:21.976533+0800 KVCKVO[35824:6395514] 6</span><br><span class="line">2018-05-05 17:16:21.976550+0800 KVCKVO[35824:6395514] 7</span><br></pre></td></tr></table></figure>
<p>方法capitalizedString被传递到NSArray中的每一项，这样，NSArray的每一员都会执行capitalizedString并返回一个包含结果的新的<br>NSArray。</p>
<p>从打印结果可以看出，所有String都成功以转成了大写。</p>
<p>同样如果要执行多个方法也可以用valueForKeyPath:方法。它先会对每一个成员调用 capitalizedString方法，然后再调用length，因为lenth方法返回是一个数字，所以返回结果以NSNumber的形式保存在新数组里。</p>
<h2 id="实现KVO"><a href="#实现KVO" class="headerlink" title="实现KVO"></a>实现KVO</h2><p>KVO是基于KVC实现的.</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/iOS开发/" rel="tag"># iOS开发</a>
          
            <a href="/tags/Objective-C/" rel="tag"># Objective-C</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/01/18/ iOS 应用程序启动过程、原理及优化/" rel="next" title="iOS 应用程序启动过程、原理及优化">
                <i class="fa fa-chevron-left"></i> iOS 应用程序启动过程、原理及优化
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/01/20/KVO详解/" rel="prev" title="KVO详解">
                KVO详解 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Lee</p>
              <p class="site-description motion-element" itemprop="description">ios开发</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">10</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">3</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#KVC详解"><span class="nav-number">1.</span> <span class="nav-text">KVC详解</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#KVC设值"><span class="nav-number">1.1.</span> <span class="nav-text">KVC设值</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#KVC取值"><span class="nav-number">1.2.</span> <span class="nav-text">KVC取值</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#KVC使用keyPath"><span class="nav-number">1.3.</span> <span class="nav-text">KVC使用keyPath</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#KVC处理异常"><span class="nav-number">1.4.</span> <span class="nav-text">KVC处理异常</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#KVC处理数值和结构体类型属性"><span class="nav-number">1.5.</span> <span class="nav-text">KVC处理数值和结构体类型属性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#KVC键值验证（Key-Value-Validation）"><span class="nav-number">1.6.</span> <span class="nav-text">KVC键值验证（Key-Value Validation）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#KVC处理集合"><span class="nav-number">1.7.</span> <span class="nav-text">KVC处理集合</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#对象运算符"><span class="nav-number">1.8.</span> <span class="nav-text">对象运算符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#KVC处理字典"><span class="nav-number">1.9.</span> <span class="nav-text">KVC处理字典</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#KVC使用"><span class="nav-number">1.10.</span> <span class="nav-text">KVC使用</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#动态地取值和设值"><span class="nav-number">1.10.1.</span> <span class="nav-text">动态地取值和设值</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#用KVC来访问和修改私有变量"><span class="nav-number">1.11.</span> <span class="nav-text">用KVC来访问和修改私有变量</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Model和字典转换"><span class="nav-number">1.12.</span> <span class="nav-text">Model和字典转换</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#操作集合"><span class="nav-number">1.13.</span> <span class="nav-text">操作集合</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#实现KVO"><span class="nav-number">1.14.</span> <span class="nav-text">实现KVO</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Lee</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
